{"version":3,"sources":["webpack:///./node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack:///./src/Bird.vue?9b88","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/Bird.vue?4dd4","webpack:///src/Bird.vue","webpack:///./src/Bird.vue?b2d8","webpack:///./src/Bird.vue"],"names":["_Group","this","_tweens","_tweensAddedDuringUpdate","prototype","getAll","Object","keys","map","tweenId","bind","removeAll","add","tween","getId","remove","update","time","preserve","tweenIds","length","undefined","TWEEN","now","i","_isPlaying","Group","_nextId","nextId","process","hrtime","self","performance","Date","getTime","Tween","object","group","_isPaused","_pauseStart","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","isPaused","to","properties","duration","create","d","start","property","parseFloat","Array","concat","stop","stopChainedTweens","end","Infinity","pause","resume","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","arguments","onStart","callback","onUpdate","onRepeat","onComplete","onStop","elapsed","value","charAt","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","v","m","f","floor","fn","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","t3","version","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","$","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","args","call","Function","apply","forced","setTimeout","setInterval","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","callbackfn","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","on","$event","type","indexOf","_k","keyCode","key","agentUp","agents","_l","agent","id","class","intersected","isIntersected","style","transform","y","wall","staticRenderFns","name","data","model","training","inputs","labels","learning","walls","destroyed","cancelAnimationFrame","rafId","methods","setupModel","inputShape","activation","units","compile","optimizer","loss","metrics","agentSetting","$refs","root","setProperty","gameLoop","requestAnimationFrame","agentDown","agentFell","console","log","agentsReset","distance","maximumDistanceToIntersection","stopWallsMovement","forEach","restartWallsMovement","rerunWallMovement","x","from","hasWallIntersectionWithAgent","width","saveLearning","input","label","component"],"mappings":"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","file":"js/chunk-027bc014.25ef78aa.js","sourcesContent":["var version = '18.5.0';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an\n\t\t// update, then the new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated.\n\t\t// However, if the removed tween was added during the current batch,\n\t\t// then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._isPaused = false;\n\tthis._pauseStart = null;\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tisPaused: function () {\n\t\treturn this._isPaused;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = Object.create(properties);\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._isPaused = false;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value, but only once.\n\t\t\tif (typeof(this._valuesStart[property]) === 'undefined') {\n\t\t\t\tthis._valuesStart[property] = this._object[property];\n\t\t\t}\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\n\t\tthis._isPlaying = false;\n\n\t\tthis._isPaused = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tpause: function(time) {\n\n\t\tif (this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = true;\n\n\t\tthis._pauseStart = time === undefined ? TWEEN.now() : time;\n\n\t\tthis._group.remove(this);\n\n\t\treturn this;\n\n\t},\n\n\tresume: function(time) {\n\n\t\tif (!this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = false;\n\n\t\tthis._startTime += (time === undefined ? TWEEN.now() : time)\n\t\t\t- this._pauseStart;\n\n\t\tthis._pauseStart = 0;\n\n\t\tthis._group.add(this);\n\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\nTWEEN.version = version;\n\nexport default TWEEN;\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=style&index=0&id=c5ebb58e&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=style&index=0&id=c5ebb58e&scoped=true&lang=css&\"","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"root\",staticClass:\"Bird\",attrs:{\"tabindex\":\"0\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.agentUp(_vm.agents[0])}}},[_c('div',{staticClass:\"field\"},[_vm._l((_vm.agents),function(agent){return _c('div',{key:agent.id,class:['agent', { intersected: agent.isIntersected }],style:({ transform: (\"translate(\" + (agent.x) + \"rem, \" + (-agent.y) + \"rem)\") })})}),_vm._l((_vm.walls),function(wall){return _c('div',{key:wall.id,staticClass:\"wall\",style:({ transform: (\"translate(\" + (wall.x) + \"rem, \" + (-wall.y) + \"rem)\") })})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    ref=\"root\"\n    class=\"Bird\"\n    tabindex=\"0\"\n    @keydown.up=\"agentUp(agents[0])\"\n  >\n    <div class=\"field\">\n      <div\n        v-for=\"agent in agents\"\n        :key=\"agent.id\"\n        :style=\"{ transform: `translate(${agent.x}rem, ${-agent.y}rem)` }\"\n        :class=\"['agent', { intersected: agent.isIntersected }]\"\n      />\n\n      <div\n        v-for=\"wall in walls\"\n        :key=\"wall.id\"\n        :style=\"{ transform: `translate(${wall.x}rem, ${-wall.y}rem)` }\"\n        class=\"wall\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as tf from '@tensorflow/tfjs';\nimport TWEEN from '@tweenjs/tween.js';\n\nlet rafId;\n\n// С учётом размеров агента.\nconst fieldSize = 18;\n// 2 - ширина агента.\nconst maximumDistanceToIntersection = fieldSize - 2;\n\nexport default {\n  name: 'Bird',\n\n  data() {\n    return {\n      model: tf.sequential(),\n      // Очищаемые перед следующим поколением накопленные данные агентов для обучения.\n      training: {\n        inputs: [],\n        labels: [],\n      },\n      // Лучшие агенты в поколении из training набора на которых будет обучаться модель.\n      learning: {\n        inputs: [],\n        labels: [],\n      },\n      // todo хранить saveLearning в агенте, а при обучении брать 5 самых долго живущих.\n      // todo добавить параметр долгоживущего. занести его в сеть для обучения?\n      agents: [\n        {\n          id: `agents_${1}`,\n          x: 0,\n          y: 0,\n          width: 2,\n          height: 2,\n          distance: maximumDistanceToIntersection,\n          isIntersected: false,\n          heightUp: { y: 18 },\n          heightDown: { y: 0 },\n          flightTime: 300,\n          tween: { stop() {} },\n        },\n      ],\n      walls: [\n        {\n          id: `walls_${1}`,\n          x: 20,\n          y: 0,\n          width: 2,\n          height: 4,\n          movementTime: 2000,\n          from: {\n            x: 20,\n          },\n          to: {\n            x: -2,\n          },\n          tween: { stop() {} },\n        },\n        {\n          id: `walls_${2}`,\n          x: 30,\n          y: 16,\n          width: 2,\n          height: 4,\n          movementTime: 3000,\n          from: {\n            x: 30,\n          },\n          to: {\n            x: -2,\n          },\n        },\n        // {\n        //   id: `walls_${3}`,\n        //   x: 18 * 1.7,\n        //   y: 0,\n        //   width: 2,\n        //   height: 4,\n        //   movementTime: 1000 * 1.7,\n        //   from: {\n        //     x: 18 * 1.7,\n        //   },\n        //   to: {\n        //     x: -2,\n        //   },\n        // },\n      ],\n    };\n  },\n\n  async mounted() {\n    this.setupModel();\n    this.agentSetting();\n    rafId = requestAnimationFrame(this.gameLoop);\n\n    await this.modelPredict();\n    this.restartWallsMovement();\n\n    // window.check = () => {\n    //   const [wall] = this.walls;\n    //   this.hasWallIntersectionWithAgent(wall);\n    // };\n  },\n\n  destroyed() {\n    cancelAnimationFrame(rafId);\n  },\n\n  methods: {\n    setupModel() {\n      this.model.add(tf.layers.dense({\n        inputShape: [2],\n        activation: 'sigmoid',\n        units: 64,\n      }));\n\n      // this.model.add(tf.layers.dropout({\n      //   rate: 0.1,\n      // }));\n      //\n      // this.model.add(tf.layers.dense({\n      //   activation: 'sigmoid',\n      //   units: 128,\n      // }));\n\n      this.model.add(tf.layers.dense({\n        activation: 'sigmoid',\n        units: 1,\n      }));\n\n      this.model.compile({\n        optimizer: tf.train.adamax(0.01),\n        loss: 'meanSquaredError',\n        metrics: ['accuracy'],\n      });\n    },\n\n    // todo настройка по первому объекту - все одинаковые.\n    agentSetting() {\n      const [agent] = this.agents;\n      const [wall] = this.walls;\n\n      this.$refs.root.style.setProperty('--agent-width', `${agent.width}rem`);\n      this.$refs.root.style.setProperty('--agent-height', `${agent.height}rem`);\n\n      this.$refs.root.style.setProperty('--wall-width', `${wall.width}rem`);\n      this.$refs.root.style.setProperty('--wall-height', `${wall.height}rem`);\n    },\n\n    gameLoop(time) {\n      rafId = requestAnimationFrame(this.gameLoop);\n      TWEEN.update(time);\n    },\n\n    async modelPredict() {\n      await Promise.all(this.agents.map(this.predict));\n      // todo вместо цикла, добавить счетчик агентов в строю и сбрасывать после обучения сети.\n      const countNotIntersected = this.agents.filter((agent) => !agent.isIntersected).length;\n\n      if (countNotIntersected === 0) {\n        this.agentsReset();\n        this.stopWallsMovement();\n        await this.modelFit();\n        this.restartWallsMovement();\n      }\n\n      // Замедлялка прогнозирования.\n      await new Promise((resolve) => setTimeout(resolve, 500));\n      this.modelPredict();\n    },\n\n    async predict(agent) {\n      if (!agent.isIntersected) {\n        const [prediction] = await this.model.predict(tf.tensor2d([\n          [\n            agent.y / fieldSize,\n            agent.distance / fieldSize,\n          ],\n        ])).data();\n\n        console.log('prediction', prediction);\n\n        if (prediction > 0.5) {\n          this.agentUp(agent);\n        }\n      }\n    },\n\n    agentUp(agent) {\n      agent.tween.stop();\n\n      agent.tween = new TWEEN.Tween(agent)\n        .to(agent.heightUp, agent.flightTime)\n        .easing(TWEEN.Easing.Quadratic.Out)\n        .onComplete(() => this.agentDown(agent))\n        .start();\n    },\n\n    agentDown(agent) {\n      agent.tween = new TWEEN.Tween(agent)\n        .to(agent.heightDown, agent.flightTime)\n        .easing(TWEEN.Easing.Quadratic.In)\n        .onComplete(() => this.agentFell(agent))\n        .start();\n    },\n\n    // todo сброс состояния, когда все агенты потерпели неудачу.\n    agentFell(agent) {\n      console.log('agentFell', agent);\n    },\n\n    // todo множественные агенты\n    agentsReset() {\n      const [agent] = this.agents;\n\n      agent.tween.stop();\n\n      agent.y = 0;\n      agent.distance = maximumDistanceToIntersection;\n      agent.isIntersected = false;\n    },\n\n    stopWallsMovement() {\n      this.walls.forEach((wall) => wall.tween.stop());\n    },\n\n    restartWallsMovement() {\n      this.walls.forEach(this.rerunWallMovement);\n    },\n\n    rerunWallMovement(wall) {\n      wall.x = wall.from.x;\n\n      wall.tween = new TWEEN.Tween(wall)\n        .to(wall.to, wall.movementTime)\n        .onUpdate(() => this.hasWallIntersectionWithAgent(wall))\n        .onComplete(() => this.rerunWallMovement(wall))\n        .start();\n    },\n\n    // todo множественные агенты\n    hasWallIntersectionWithAgent(wall) {\n      const [agent] = this.agents;\n\n      if (!agent.isIntersected) {\n        const isTopBorderAgent = agent.y + agent.height > wall.y;\n        const isRightBorderAgent = agent.x + agent.width > wall.x;\n        const isBottomBorderAgent = agent.y < wall.y + wall.height;\n\n        if (wall.x - agent.width >= 0) {\n          const distance = wall.x - agent.width;\n\n          if (distance < agent.distance) {\n            agent.distance = distance;\n          }\n        }\n\n        if (\n          isTopBorderAgent\n          && isRightBorderAgent\n          && isBottomBorderAgent\n        ) {\n          agent.isIntersected = true;\n\n          // todo сохраняется очень много информации. 60fps.\n          this.saveLearning({\n            input: [\n              agent.y / fieldSize,\n              agent.distance / fieldSize,\n            ],\n            label: [0],\n          });\n        } else {\n          this.saveLearning({\n            input: [\n              agent.y / fieldSize,\n              agent.distance / fieldSize,\n            ],\n            label: [1],\n          });\n        }\n      }\n    },\n\n    // todo training\n    saveLearning({ input, label }) {\n      // console.log('input', input);\n      // console.log('label', label);\n\n      this.learning.inputs.push(input);\n      this.learning.labels.push(label);\n    },\n\n    // todo training и отбор лучших в поколении?\n    async modelFit() {\n      await this.model.fit(\n        tf.tensor2d(this.learning.inputs),\n        tf.tensor2d(this.learning.labels),\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n.Bird {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  outline: none;\n\n  --agent-width: -1rem;\n  --agent-height: -1rem;\n\n  --wall-width: -1rem;\n  --wall-height: -1rem;\n}\n\n.field {\n  position: relative;\n  width: 20rem;\n  height: 20rem;\n  background-color: #222;\n  overflow: hidden;\n}\n\n/* todo ширина высота из js */\n.agent {\n  position: absolute;\n  bottom: 0;\n  width: var(--agent-width);\n  height: var(--agent-height);\n  background-color: forestgreen;\n  will-change: transform;\n}\n\n.agent.intersected {\n  background-color: yellowgreen;\n}\n\n.wall {\n  position: absolute;\n  bottom: 0;\n  width: var(--wall-width);\n  height: var(--wall-height);\n  background-color: brown;\n  will-change: transform;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bird.vue?vue&type=template&id=c5ebb58e&scoped=true&\"\nimport script from \"./Bird.vue?vue&type=script&lang=js&\"\nexport * from \"./Bird.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bird.vue?vue&type=style&index=0&id=c5ebb58e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5ebb58e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}